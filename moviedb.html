<!DOCTYPE html>
    <html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Moviedb</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    </head>
    <body>
        <div class="container">

            <div id="main">

                <div class="row">
                    <div class="col-sm-12">
                        <h1>Don't worry Be API !!!</h1>
                        <p>Consulter une API: exemple de TheMoviedb</p>
    
                        <form action="#" method="GET">
                            <label for="movie">Recherche :</label>
                            <input type="text" class="form-control" name="movie" id="movie" v-model="movie">
                            <input type="submit" name="submit" id="submit" value="Chercher" @click="recherche">
                        </form>  

                        <div v-show="panneau1">

                            <div v-if="errored">
                                <p>Nous sommes désolés, nous ne sommes pas en mesure de récupérer ces informations pour le moment. Veuillez réessayer ultérieurement.</p>
                            </div>
                            <div v-else>

                                <div class="d-flex flex-wrap">
                                    <div class="col-sm-6" v-for="film in films">
                                        <div class="card">
                                            <div class="card-header">
                                                <h3>{{ film.title }}</h3>
                                            </div>
                                            <img v-bind:src="'http://image.tmdb.org/t/p/w500' + film.poster_path" class="card-img-top" alt="affiche">
                                            <div class="card-body">
                                                <p class="card-text">
                                                Date de sortie : {{ film.release_date }}  
                                                </p>
                                                <button class="btn btn-info" @click="affiche_details(film)">Détails</button>
                                            </div>
                                        </div>
                                    </div>
                                </div><!--end div d-flex-->

                            </div><!--end div v-else -->

                        </div><!-- end div v-show panneau1 -->
                    
                    </div><!--end 1e div col-->
                    
                </div><!--end 1e div row -->
                     
                <div class="row mt-3" v-show="panneau2">
                    <div class="col-12">
                    
                        <table class="table">
                            <tr>
                                <th>Titre</th>
                                <td>{{ film.title}}</td>
                            </tr>
                            <tr>
                                <th>Date de sortie</th>
                                <td>{{ film.release_date }}</td>
                            </tr>
        
                            <tr>
                                <th>Synopsis</th>
                                <td>{{ film.overview }}</td>
                            </tr>
                            <tr>
                                <th>Langue </th>
                                <td>{{ film.original_language }}</td>
                            </tr>
                            <tr>
                                <th>Note moyenne </th>
                                <td>{{ film.vote_average }}</td>
                            </tr>
                        </table>
                    </div>
        
                </div>
                
            </div><!--end div main-->
            
        </div>
        <!--pour charger éléments externes, utilisez module externe axios cf. https://github.com/axios/axios -->
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

        <!--  Attention : Jquery sans slim sinon Ajax ne fonctionne pas -->
        <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <!--Pour du prototypage ou de l’apprentissage : (Pour la production, nous vous recommandons de vous figer à une version et un build défini pour éviter les changements non compatibles des nouvelles versions)-->
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

        <script src="scriptMovie.js"></script>

    </body>
    </html>